<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
	<title>title</title>
	<script type="text/javascript" src="./FG-0.0.1.min.js"></script>
	<style>
		body {
			font-size: 15px;
			color: green;
			font-family: '黑体';
		}
	</style>
</head>
<body>
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="login()" value="登录"/>
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="getDeviceList()" value="获取设备列表"/>
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="devicesUsers()" value="设备的用户"/>	
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="devicesModify()" value="修改设备名称"/>
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="authorizationDevicesManage()" value="授权设备给别人"/>
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="authorizationDevices()" value="查询可以授权的设备"/>
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="usersTokens()" value="获取用户的各种信息"/>
	<br/>
	<br/>
	<input class="ipbutton" type="button" onclick="usersDeviceUnbind()" value="解绑设备"/>
</body>
<script type="text/javascript">

	var userToken = "";
	var userID = "";
	var appid = "0edfd64c-0f9a-4472-a8bc-b06b75c3909a";
	var appSecret = "63b9c58fe0bd9fa397c205bdd4eb6db1";

	(function(window){
		// var version = "v1";
		// FG.init(appid, appSecret, version);
		
		FG.init(appid, appSecret);
	})(window);

	function getDeviceList(){
		// FG.deviceDevices().then(function(ret){//v1
		FG.devicesGet().then(function(ret){ //v2
			console.log("success");
			console.log(JSON.stringify(ret));
		},function(err){
			console.log("err");
			console.log(err);
		});	
	}

	function usersDeviceUnbind(){
		var par = {"device_id":"d64f517c/c8934691813c"};
		FG.usersDeviceUnbind(par).then(function(ret){
			console.log("success");
			console.log(JSON.stringify(ret));
		},function(err){
			console.log("err");
			console.log(err);
		});	
	}

	function devicesUsers(){
		var par = {"device_id":"d64f517c/c8934691813c","product_id":"d64f517c","MAC":"c8934691813c"};
		FG.devicesUsers(par).then(function(ret){
			console.log("success");
			console.log(JSON.stringify(ret));
		},function(err){
			console.log("err");
			console.log(err);
		});
	}

	function devicesModify(){
		var par = {"device_id":"d64f517c/c8934691813c","alias":"MY地设备"};
		// FG.deviceModify(par).then(function(ret){//v1
		FG.devicesModify(par).then(function(ret){//v2
			console.log("success");
			console.log(JSON.stringify(ret));
		},function(err){
			console.log("err");
			console.log(err);
		});
	}

	function login(){
		// var par = {"login_id":"13524467545","password":"123456"};//v1
		var par = {"username":"13524467545","password":"123456"};//v2
		FG.login(par).then(function(ret){
			console.log("ret");
			console.log(ret);
	    },function(err){
			console.log("err");
			console.log(err);
	    });
	}

	function usersTokens(){
		FG.usersTokens().then(function(ret){
			console.log("success");
			console.log(JSON.stringify(ret));
		},function(err){
			console.log("err");
			console.log(err);
		});
	}

	function authorizationDevices(){
		FG.authorizationDevices().then(function(ret){
			console.log("success");
			console.log(JSON.stringify(ret));
		},function(err){
			console.log("err");
			console.log(err);
		});
	}

	function authorizationDevicesManage(){
			var par = {"username":"13524467545","owner_type":"owner","device_id":"d64f517c/c8934691813c"};
			FG.authorizationDevicesManage(par).then(function(ret){
				console.log("success");
				console.log(JSON.stringify(ret));
			},function(err){
				console.log("err");
				console.log(err);
			});
	}

</script>
</html>